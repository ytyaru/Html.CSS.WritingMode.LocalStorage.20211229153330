# キャッシュ戦略

　JSでローカルにデータを永続保存する。これによりレスポンスが高速になったり、オフラインでも閲覧できるようになる。ただし最新版に更新されたときのタイミングによって、現状データとの整合性がとれなくなる場合がある。よく考慮して実装すべき。

* https://zenn.dev/kamy112/articles/8872cde2e6db6f
* https://developer.mozilla.org/ja/docs/Web/API/Cache

id|name|summary
--|----|-------
1|Cache Only|常にキャッシュからファイルを返す
2|Cache First|キャッシュからファイルを返し、なければネットから返す
3|Network Only|常にネットからファイルを返す
4|Network first|ネットからファイルを返し、なければキャッシュから返す
5|Stale While Revalidate|キャッシュにファイルがあればキャッシュ、なければネットから返す。常にネット接続し、キャッシュを最新化する
6|Cache then network|キャッシュを表示する。ネットから最新が届いたらページ更新する。

　それに加えてユーザが選択するオプション・ダウンロード型がほしい。画像やフォントなどサイズが大きい上に代替手段が存在する場合、ユーザが任意でダウンロードするか選択する。いわば拡張コンテンツ。

　コンテンツが更新されたタイミング以降にアクセスしたら、キャッシュを更新したい。新しいファイルの追加、既存ファイルの変更・削除に対応したい。

1. キャッシュを表示する
2. バックグラウンドでネットからダウンロードする
3. DL中は画面の一部にローディング・マークを表示する
4. DL完了したら画面を更新し、マークを消す

