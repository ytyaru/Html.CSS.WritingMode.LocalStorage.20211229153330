# 0.68 余白調整

## 考察

　余白の調整方法について考える。精度と労力のトレードオフがある。細かく調整できるようにすると満足度は高いだろうが、調整や実装に手間がかかる。大雑把に調整できるようにすると細部にこだわれないものの、手間なく実装・調整できる。

* 最小限
* 最大限
* 中間

### 最小限

　用途に応じで大雑把に調整できるようにする。

モード|概要
------|----
余白なし|余白がなく全画面に本文を表示する。ノンブルさえもない。スマホなど小さい画面のとき用。
ノンブルのみ|画面下端にノンブルを表示する。そのための余白がある。それ以外の余白はない。余白は`1em`。
ノンブル＋|四辺`1em`の余白あり。
フル|2.5emの余白がある。ページヘッダとページフッタの要素をすべて表示する。

### 最大限

```
☑ 余白
----------------------------------------
       [1]em
[1]em         [1]em
       [1]em

☑ 表示
----------------------------------------
☑ 現在時刻      ☑ 経過時間  ☑ 柱
                ☑ つめかけ
☑ 残りページ数  ☑ ノンブル  ☑ 読了率
```

### 中間

```
余白 [1]em

☑ 現在時刻      ☑ 経過時間  ☑ 柱
☑ 残りページ数  ☑ ノンブル  ☑ 読了率

```

　余白は四辺ともすべて同じとする。`0.5`em刻み。`0`〜`4`まで。`1`以下であれば補足情報はすべて非表示となる。表示すべき領域が足りず、本文と重なってしまうから。

　余白については四辺とも同じにしてしまって良いだろう。本は上の余白が多めのことが多いが、それほど気にするようなことではない。それより補足情報の非表示が重要。とくにページヘッダは邪魔になることが多い。本文に集中したいときは非表示にできるようにする。

　簡単かつ手早く今の自分にとって見やすくする。そのためには設定をショートカットキーで指定できることが好ましい。

## キーボード・ショートカット

key|役割
---|----
`n`|次ページへ
`p`|前ページへ
`f`|最初のページへ
`l`|最後のページへ
`m`|指定ページ入力ダイアログ表示

　次・前はもっとも重要な操作のため他の主なキーにも割り当てる。

key|役割
---|----
`←`,`→`|次・前
`PgUp`,`PgDn`|次・前
`SPACE`,`Shift+SPACE`|次・前
`Enter`,`Shift+Enter`|次・前
`BkSp`|前

　以下も英単語から次・前を連想しやすい。だが`f`はフルスクリーン、`b`はブックマークに使いたい。逆に`n`は`next`,`new`など次を連想させるし、ブログでも`next`,`prev`がよく使われる。`p`は`page`の頭文字でもある。よってページ遷移には`n`,`p`を使用し、`f`,`b`は他の用途にする。

key|役割
---|----
`f`|`forward` 進む
`b`|`back` 戻る

　大メニューを表示する。

key|役割
---|----
`i`|index表示
`s`|setting表示

key|setting
---|-------
`w`|縦書き／横書き
`v`,`N`|縦書き
`h`,`Z`|横書き
`f`,`F11`|全画面／通常画面
`c`|明／暗
`l`|明
`d`|暗
`C`|段組み増減

key|setting
---|-------
`H`|ページヘッダ表示／非表示
`M`|余白サイズ入力ダイアログ表示

key|役割
---|----
`u`|UnDo。直前の操作を取り消す
`b`|ブックマークする（移動するまで上書きできない）
`B`|ブックマークへ移動する（移動したらクリアされて移動できなくなると同時に上書きできるようになる）
`c`|中間テキストの全本文コピー(markdown, 青空文庫書式など)
`C`|HTMLパースした全本文コピー
`N`|次の章へ
`P`|前の章へ
`s`|この章の要約（summary）。全要約文
``|
``|
``|
``|
``|
``|

　実用書の場合、速読モード（要約モード）がほしい。つまり要約だけを読んですばやく概要を把握するスタイル。

1. 目次
1. 各章の扉（各章の目次）
1. 指定した章の全要約文（箇条書き）
1. 指定した要約文の全文

　あまり多くのキーがあるとミスタッチによる誤操作が問題になる。押したつもりがないのに押してしまい、何がどうなったか把握できなかったり、もとに戻せなくなったり、戻すのに手間がかかったり。本末転倒になっていまいかねない。創作文か実用文かによって読み方も変わるため、ショートカットキーやメニュー項目を適切に変更したほうがよいだろう。

* どれだけの機能をもりこむか
* どれだけのショートカットキーをもりこむか

